<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sankalp Shiksha - Quiz Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', 'Segoe UI', sans-serif;
            transition: all 0.3s ease;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
        }
        
        body.dark-mode {
            background: linear-gradient(135deg, #0c0c0c 0%, #2d3436 100%);
            color: #f0f0f0;
        }
        
        .container {
            width: 95%;
            max-width: 1000px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            padding: 30px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            animation: fadeInUp 0.8s ease;
        }
        
        .dark-mode .container {
            background: rgba(44, 62, 80, 0.95);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        header {
            text-align: center;
            margin-bottom: 25px;
            position: relative;
            padding: 10px 0;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 2.2rem;
            font-weight: 700;
        }
        
        .dark-mode h1 {
            color: #f0f0f0;
        }
        
        .description {
            color: #7f8c8d;
            font-size: 1rem;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.5;
        }
        
        .dark-mode .description {
            color: #bdc3c7;
        }
        
        .header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
            border-radius: 15px 15px 0 0;
            margin: -30px -30px 25px -30px;
            box-shadow: 0 8px 25px rgba(238, 90, 36, 0.3);
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 8px;
            font-weight: 800;
            color: white;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 1;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .login-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .login-form {
            width: 100%;
            max-width: 450px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 35px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        .login-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
        }
        
        .dark-mode .login-form {
            background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .login-form h2 {
            text-align: center;
            margin-bottom: 25px;
            color: #2c3e50;
            font-weight: 700;
            position: relative;
        }
        
        .dark-mode .login-form h2 {
            color: #f0f0f0;
        }
        
        .form-group {
            margin-bottom: 22px;
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
        }
        
        .form-group label i {
            margin-right: 8px;
            color: #ee5a24;
        }
        
        .dark-mode .form-group label {
            color: #f0f0f0;
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s;
            background: #f8fafc;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .dark-mode .form-group input, .dark-mode .form-group select, .dark-mode .form-group textarea {
            background: #34495e;
            border-color: #2c3e50;
            color: #f0f0f0;
        }
        
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            border-color: #ee5a24;
            outline: none;
            box-shadow: 0 0 0 3px rgba(238, 90, 36, 0.2);
            background: white;
            transform: translateY(-2px);
        }
        
        .dark-mode .form-group input:focus, .dark-mode .form-group select:focus, .dark-mode .form-group textarea:focus {
            background: #2c3e50;
        }
        
        button {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 6px 15px rgba(238, 90, 36, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        
        button:hover::before {
            left: 100%;
        }
        
        button:hover {
            background: linear-gradient(135deg, #ee5a24 0%, #ff6b6b 100%);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(238, 90, 36, 0.4);
        }
        
        .login-btn {
            width: 100%;
            padding: 15px;
            font-size: 1.1rem;
            margin-top: 10px;
        }
        
        .toggle-form {
            display: none;
        }
        
        .user-info-panel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 18px;
            border-radius: 12px;
            margin-bottom: 25px;
            font-size: 15px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #ee5a24;
            animation: slideIn 0.5s ease;
        }
        
        .dark-mode .user-info-panel {
            background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
        }
        
        .user-details {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        
        .user-name {
            font-weight: 700;
            color: #2c3e50;
            font-size: 18px;
        }
        
        .dark-mode .user-name {
            color: #f0f0f0;
        }
        
        .user-reg {
            color: #64748b;
        }
        
        .dark-mode .user-reg {
            color: #bdc3c7;
        }
        
        .logout-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            padding: 10px 18px;
            font-size: 15px;
            width: auto;
            box-shadow: 0 6px 15px rgba(231, 76, 60, 0.3);
        }
        
        .logout-btn:hover {
            background: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%);
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.4);
        }
        
        .quiz-container, .results-container {
            display: none;
        }
        
        .question {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #3498db;
            animation: fadeIn 0.5s ease;
        }
        
        .dark-mode .question {
            background: #34495e;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }
        
        .question h3 {
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.3rem;
        }
        
        .dark-mode .question h3 {
            color: #f0f0f0;
        }
        
        .question p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .question-image {
            width: 100%;
            max-width: 500px;
            border-radius: 10px;
            margin: 15px auto;
            display: block;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
            margin-top: 20px;
        }
        
        .option {
            padding: 18px;
            background: #e8f4fc;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-weight: 500;
            font-size: 1.05rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .dark-mode .option {
            background: #2c3e50;
        }
        
        .option:hover {
            background: #d1e9fa;
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
            border-color: #3498db;
        }
        
        .dark-mode .option:hover {
            background: #34495e;
        }
        
        .selected {
            background: #4CAF50 !important;
            color: white !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4) !important;
            border-color: #2E7D32 !important;
        }
        
        .dark-mode .selected {
            background: #4CAF50 !important;
            color: white !important;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .nav-btn {
            width: 48%;
            padding: 14px;
        }
        
        .nav-btn.secondary {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            box-shadow: 0 6px 15px rgba(149, 165, 166, 0.3);
        }
        
        .nav-btn.secondary:hover {
            background: linear-gradient(135deg, #7f8c8d 0%, #95a5a6 100%);
            box-shadow: 0 8px 20px rgba(149, 165, 166, 0.4);
        }
        
        .results-container {
            text-align: center;
        }
        
        .score {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 25px 0;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .dark-mode .score {
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .analysis {
            text-align: left;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-top: 25px;
            font-size: 1rem;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
        }
        
        .dark-mode .analysis {
            background: #34495e;
        }
        
        .correct {
            color: #27ae60;
            font-weight: bold;
        }
        
        .incorrect {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .progress {
            height: 12px;
            background: #ecf0f1;
            border-radius: 6px;
            margin-bottom: 25px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .dark-mode .progress {
            background: #2c3e50;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(135deg, #3498db 0%, #1f618d 100%);
            border-radius: 6px;
            width: 0%;
            transition: width 0.5s;
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .loading {
            text-align: center;
            padding: 30px;
            display: none;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        .badge {
            display: inline-block;
            background: linear-gradient(135deg, #3498db 0%, #1f618d 100%);
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.9rem;
            margin-right: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .timer-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px 20px;
            background: #f8f9fa;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #e74c3c;
        }
        
        .dark-mode .timer-container {
            background: #34495e;
        }
        
        .timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .dark-mode .timer {
            color: #f0f0f0;
        }
        
        .timer.warning {
            color: #e74c3c;
            animation: pulse 1s infinite;
        }
        
        .footer {
            margin-top: 35px;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .dark-mode .footer {
            color: #bdc3c7;
        }
        
        .footer a {
            color: #3498db;
            text-decoration: none;
        }
        
        .footer a:hover {
            text-decoration: underline;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: modalAppear 0.3s ease;
        }
        
        @keyframes modalAppear {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .dark-mode .modal-content {
            background: #2c3e50;
            color: #f0f0f0;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            cursor: pointer;
            color: #777;
            transition: color 0.3s;
        }
        
        .dark-mode .close-modal {
            color: #bdc3c7;
        }
        
        .close-modal:hover {
            color: #333;
        }
        
        .dark-mode .close-modal:hover {
            color: #f0f0f0;
        }
        
        .question-analysis {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .dark-mode .question-analysis {
            border-bottom: 1px solid #34495e;
        }
        
        .question-analysis:last-child {
            border-bottom: none;
        }
        
        .correct-answer {
            background: #d4edda;
            padding: 12px;
            border-radius: 6px;
            margin-top: 10px;
            font-size: 0.95rem;
            border-left: 4px solid #27ae60;
        }
        
        .dark-mode .correct-answer {
            background: #27ae60;
            color: white;
        }
        
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .quiz-title {
            font-size: 1.7rem;
            color: #2c3e50;
            font-weight: 700;
        }
        
        .dark-mode .quiz-title {
            color: #f0f0f0;
        }
        
        .centered-button-container {
            display: flex;
            justify-content: center;
            margin: 25px 0;
        }
        
        .centered-button {
            width: 100%;
            max-width: 300px;
        }
        
        .mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #2c3e50;
            color: white;
            border: none;
            border-radius: 50%;
            width: 55px;
            height: 55px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            z-index: 100;
            transition: all 0.3s;
        }
        
        .dark-mode .mode-toggle {
            background: #f0f0f0;
            color: #2c3e50;
        }
        
        .mode-toggle:hover {
            transform: scale(1.1) rotate(15deg);
        }
        
        .instruction-toggle {
            position: fixed;
            top: 20px;
            right: 85px;
            background: #f39c12;
            color: white;
            border: none;
            border-radius: 50%;
            width: 55px;
            height: 55px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            z-index: 100;
            transition: all 0.3s;
        }
        
        .dark-mode .instruction-toggle {
            background: #e67e22;
            color: #f0f0f0;
        }
        
        .instruction-toggle:hover {
            background: #e67e22;
            transform: scale(1.1);
        }
        
        .dark-mode .instruction-toggle:hover {
            background: #d35400;
        }
        
        .review-panel {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            border: 2px solid #3498db;
        }
        
        .dark-mode .review-panel {
            background: #34495e;
        }
        
        .review-title {
            font-weight: 700;
            margin-bottom: 15px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
        }
        
        .dark-mode .review-title {
            color: #f0f0f0;
        }
        
        .review-status {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 0.95rem;
        }
        
        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-color {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            display: inline-block;
        }
        
        .status-answered {
            background-color: #27ae60;
        }
        
        .status-skipped {
            background-color: #f39c12;
        }
        
        .status-unanswered {
            background-color: #e74c3c;
        }
        
        .status-current {
            background-color: #3498db;
        }
        
        .review-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .review-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            cursor: pointer;
            border: 2px solid #ddd;
            background: white;
            color: #333;
            transition: all 0.2s;
            font-size: 1rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .dark-mode .review-btn {
            background: #2c3e50;
            color: #f0f0f0;
            border-color: #34495e;
        }
        
        .review-btn.answered {
            background: #27ae60;
            color: white;
            border-color: #27ae60;
        }
        
        .review-btn.skipped {
            background: #f39c12;
            color: white;
            border-color: #f39c12;
        }
        
        .review-btn.unanswered {
            background: #e74c3c;
            color: white;
            border-color: #e74c3c;
        }
        
        .review-btn.current {
            border: 3px solid #3498db;
            box-shadow: 0 0 15px rgba(52, 152, 219, 0.7);
            transform: scale(1.1);
        }
        
        .info-text {
            font-size: 12px;
            color: #64748b;
            margin-top: 4px;
            font-style: italic;
        }
        
        .welcome-animation {
            text-align: center;
            padding: 30px;
            margin-bottom: 25px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            border-radius: 15px;
            color: white;
            animation: fadeIn 1s ease-in-out;
            box-shadow: 0 10px 25px rgba(238, 90, 36, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .welcome-animation::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }
        
        .welcome-animation h2 {
            margin-bottom: 10px;
            font-size: 2rem;
            position: relative;
            z-index: 1;
        }
        
        .welcome-animation p {
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
        }
        
        .saving-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            display: none;
            backdrop-filter: blur(5px);
        }
        
        .saving-content {
            background: white;
            padding: 35px;
            border-radius: 15px;
            text-align: center;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: modalAppear 0.3s ease;
        }
        
        .dark-mode .saving-content {
            background: #2c3e50;
            color: #f0f0f0;
        }
        
        .saving-spinner {
            width: 60px;
            height: 60px;
            border: 6px solid #f3f3f3;
            border-top: 6px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 25px;
        }
        
        .dark-mode .saving-spinner {
            border: 6px solid #34495e;
            border-top: 6px solid #3498db;
        }
        
        .feedback-saving {
            display: none;
            text-align: center;
            margin: 15px 0;
        }
        
        .feedback-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-right: 10px;
        }
        
        .confirmation-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }
        
        .confirmation-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: modalAppear 0.3s ease;
        }
        
        .dark-mode .confirmation-content {
            background: #2c3e50;
            color: #f0f0f0;
        }
        
        .confirmation-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
        }
        
        .confirm-btn {
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }
        
        .confirm-yes {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }
        
        .confirm-no {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            color: white;
        }
        
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) translateX(100px) rotate(360deg); opacity: 0; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .email-status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: 600;
        }
        
        .email-success {
            background: #d4edda;
            color: #155724;
            border-left: 4px solid #28a745;
        }
        
        .email-error {
            background: #f8d7da;
            color: #721c24;
            border-left: 4px solid #dc3545;
        }
        
        .email-info {
            background: #cce7ff;
            color: #004085;
            border-left: 4px solid #007bff;
        }
        
        .language-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 55px;
            height: 55px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            z-index: 100;
            transition: all 0.3s;
        }
        
        .dark-mode .language-toggle {
            background: #2980b9;
            color: #f0f0f0;
        }
        
        .language-toggle:hover {
            transform: scale(1.1);
        }
        
        @media (max-width: 900px) {
            .options {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .container {
                padding: 20px;
            }
            
            .review-buttons {
                gap: 8px;
            }
            
            .review-btn {
                width: 35px;
                height: 35px;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 600px) {
            body {
                padding: 15px;
            }
            
            .container {
                width: 100%;
                padding: 15px;
            }
            
            h1 {
                font-size: 1.6rem;
            }
            
            .mode-toggle, .instruction-toggle, .language-toggle {
                top: 10px;
                right: 10px;
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }
            
            .instruction-toggle {
                right: 65px;
            }
            
            .language-toggle {
                left: 10px;
            }
            
            .review-status {
                flex-direction: column;
                gap: 8px;
            }
            
            .user-info-panel {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .review-buttons {
                gap: 6px;
            }
            
            .review-btn {
                width: 30px;
                height: 30px;
                font-size: 0.8rem;
            }
            
            .confirmation-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="saving-overlay" id="savingOverlay">
        <div class="saving-content">
            <div class="saving-spinner"></div>
            <h3>Saving Results...</h3>
            <p>Please wait while we save your quiz results to Google Docs.</p>
            <p id="savingStatus">Connecting to server...</p>
        </div>
    </div>
    
    <div class="confirmation-modal" id="confirmationModal">
        <div class="confirmation-content">
            <h2><i class="fas fa-exclamation-triangle"></i> Confirm Logout</h2>
            <p>Are you sure you want to logout? Your progress will be lost.</p>
            <div class="confirmation-buttons">
                <button class="confirm-btn confirm-yes" id="confirmLogout">Yes, Logout</button>
                <button class="confirm-btn confirm-no" id="cancelLogout">Cancel</button>
            </div>
        </div>
    </div>
    
    <button class="instruction-toggle" id="instructionToggle">
        <i class="fas fa-info-circle"></i>
    </button>
    
    <button class="language-toggle" id="languageToggle">
        <i class="fas fa-language"></i>
    </button>
    
    <button class="mode-toggle" id="modeToggle">
        <i class="fas fa-moon"></i>
    </button>
    
    <div class="container">
        <div class="header">
            <h1>Sankalp Shiksha Quiz Portal</h1>
            <p>Test Your Knowledge & Improve Your Skills</p>
        </div>
        
        <div class="welcome-animation" id="welcomeAnimation" style="display: none;">
            <h2>Welcome, <span id="welcomeName">Student</span>!</h2>
            <p>Good luck with your quiz. You have 30 seconds to complete 2 questions.</p>
        </div>
        
        <div class="login-section" id="loginSection">
            <div class="login-form">
                <h2><i class="fas fa-user-graduate"></i> Student Information</h2>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-name"><i class="fas fa-user"></i> Student Name</label>
                        <input type="text" id="login-name" required placeholder="Enter your full name">
                    </div>
                    
                    <div class="form-group">
                        <label for="login-mobile"><i class="fas fa-mobile-alt"></i> Mobile Number</label>
                        <input type="text" id="login-mobile" required placeholder="Enter your mobile number" maxlength="10">
                    </div>
                    
                    <div class="form-group">
                        <label for="login-father"><i class="fas fa-user-friends"></i> Father's Name</label>
                        <input type="text" id="login-father" required placeholder="Enter your father's name">
                    </div>
                    
                    <div class="form-group">
                        <label for="login-email"><i class="fas fa-envelope"></i> Email (Required for Results)</label>
                        <input type="email" id="login-email" required placeholder="Enter your email">
                    </div>
                    
                    <div class="form-group">
                        <label for="login-class"><i class="fas fa-graduation-cap"></i> Class</label>
                        <select id="login-class" required>
                            <option value="">Select Class</option>
                            <option value="LKG" selected>LKG</option>
                            <option value="UKG">UKG</option>
                            <option value="Class 1">Class 1</option>
                            <option value="Class 2">Class 2</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="login-subject"><i class="fas fa-book"></i> Subject</label>
                        <select id="login-subject" required>
                            <option value="">Select Subject</option>
                            <option value="General Knowledge" selected>General Knowledge</option>
                            <option value="English">English</option>
                            <option value="Mathematics">Mathematics</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="login-btn"><i class="fas fa-play-circle"></i> Start Quiz</button>
                </form>
            </div>
        </div>
        
        <div class="user-info-panel" id="userInfoPanel" style="display: none;">
            <div class="user-details">
                <div class="user-name" id="display-student-name">Student Name</div>
                <div class="user-reg" id="display-mobile">Mobile Number</div>
                <div class="user-reg" id="display-class">Class & Subject</div>
            </div>
            <button class="logout-btn" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</button>
        </div>
        
        <div class="quiz-container" id="quizContainer">
            <div class="quiz-header">
                <h2 class="quiz-title" id="quizTitle">General Knowledge Quiz</h2>
            </div>
            
            <div class="timer-container">
                <div id="timeRemainingText">Time Remaining:</div>
                <div class="timer" id="timer">30</div>
            </div>
            
            <div class="review-panel" id="reviewPanel">
                <div class="review-title">
                    <i class="fas fa-list"></i> <span id="questionReviewText">Question Review</span>
                </div>
                <div class="review-status">
                    <div class="status-item">
                        <span class="status-color status-answered"></span>
                        <span id="answeredText">Answered</span>
                    </div>
                    <div class="status-item">
                        <span class="status-color status-skipped"></span>
                        <span id="skippedText">Skipped</span>
                    </div>
                    <div class="status-item">
                        <span class="status-color status-unanswered"></span>
                        <span id="unansweredText">Unanswered</span>
                    </div>
                    <div class="status-item">
                        <span class="status-color status-current"></span>
                        <span id="currentText">Current</span>
                    </div>
                </div>
                <div class="review-buttons" id="reviewButtons"></div>
            </div>
            
            <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div id="questionContainer"></div>
            <div class="navigation">
                <button class="nav-btn secondary" id="prevBtn"><i class="fas fa-arrow-left"></i> <span id="prevText">Previous</span></button>
                <button class="nav-btn" id="nextBtn"><span id="nextText">Next</span> <i class="fas fa-arrow-right"></i></button>
            </div>
            <div class="centered-button-container">
                <button id="submitQuiz" class="centered-button" style="display: none;"><i class="fas fa-paper-plane"></i> <span id="submitText">Submit Quiz</span></button>
            </div>
        </div>
        
        <div class="results-container" id="resultsContainer">
            <h2><i class="fas fa-chart-line"></i> <span id="resultsText">Quiz Results</span></h2>
            <div class="score" id="score"></div>
            <div class="analysis" id="analysis"></div>
            
            <div id="emailStatus" class="email-status" style="display: none;"></div>
            
            <div class="centered-button-container">
                <button id="feedbackBtn" class="centered-button"><i class="fas fa-comment"></i> <span id="feedbackText">Feedback</span></button>
            </div>
        </div>
        
        <div class="footer">
            <p>Powered by NexGenAiTech</p>
        </div>
    </div>

    <div class="modal" id="instructionModal">
        <div class="modal-content">
            <span class="close-modal" id="closeInstructionModal">&times;</span>
            <h2><i class="fas fa-info-circle"></i> <span id="instructionTitle">Quiz Instructions</span></h2>
            
            <div style="margin-top: 20px;">
                <h3 style="color: #e74c3c; margin-bottom: 15px;">
                    <i class="fas fa-exclamation-triangle"></i> <span id="importantWarning">Important Warning:</span>
                </h3>
                <p style="background: #ffeaa7; padding: 10px; border-radius: 5px; margin-bottom: 20px;">
                    <strong id="warningText">किसी भी प्रकार की नकल करने पर आपका टेस्ट अयोग्य घोषित कर दिया जाएगा।</strong>
                </p>
                
                <h3 style="margin-bottom: 10px;" id="testInstructions">Test Instructions:</h3>
                <ul style="padding-left: 20px; margin-bottom: 20px;" id="instructionsList">
                    <li>इस क्विज में कुल 2 प्रश्न हैं</li>
                    <li>आपके पास पूरा टेस्ट देने के लिए 30 सेकंड का समय है</li>
                    <li>प्रत्येक प्रश्न के चार विकल्प हैं, सही उत्तर चुनें</li>
                    <li>Previous और Next बटन का उपयोग करके प्रश्नों के बीच नेविगेट कर सकते हैं</li>
                    <li>Question Review पैनल से किसी भी प्रश्न पर सीधे जा सकते हैं</li>
                    <li>एक बार उत्तर चुनने के बाद वह स्वचालित रूप से सेव हो जाएगा</li>
                    <li>किसी भी समय अपना उत्तर बदल सकते हैं</li>
                    <li>टेस्ट पूरा करने के बाद Submit Quiz बटन पर क्लिक करें</li>
                </ul>
                
                <p style="font-style: italic; color: #7f8c8d;" id="instructionNote">
                    सभी निर्देशों को ध्यान से पढ़ें और ईमानदारी से टेस्ट दें।
                </p>
            </div>
        </div>
    </div>

    <div class="modal" id="feedbackModal">
        <div class="modal-content">
            <span class="close-modal" id="closeFeedbackModal">&times;</span>
            <h2><i class="fas fa-comment"></i> <span id="feedbackTitle">Feedback</span></h2>
            
            <form id="feedback-form">
                <div class="form-group">
                    <label for="feedback-name" id="feedbackNameLabel">Student Name</label>
                    <input type="text" id="feedback-name" readonly>
                </div>
                
                <div class="form-group">
                    <label for="feedback-mobile" id="feedbackMobileLabel">Mobile Number</label>
                    <input type="text" id="feedback-mobile" readonly>
                </div>
                
                <div class="form-group">
                    <label for="feedback-message" id="feedbackMessageLabel">Message for Updates</label>
                    <textarea id="feedback-message" rows="5" required placeholder="Your feedback or message for new updates"></textarea>
                </div>
                
                <div class="feedback-saving" id="feedbackSaving">
                    <div class="feedback-spinner"></div>
                    <span id="savingFeedbackText">Saving your feedback...</span>
                </div>
                
                <button type="submit" class="login-btn" id="feedbackSubmitBtn"><span id="submitFeedbackText">Submit Feedback</span></button>
            </form>
            
            <div class="result" id="feedback-result" style="display: none; margin-top: 15px; padding: 15px; background: #e8f4fc; border-radius: 6px; border-left: 4px solid #4361ee;">
                <h3><i class="fas fa-check-circle"></i> <span id="feedbackSuccessTitle">Feedback Submitted Successfully!</span></h3>
                <p id="feedbackSuccessText">Thank you for your valuable feedback.</p>
            </div>
        </div>
    </div>

    <script>
        // DOM elements
        const loginSection = document.getElementById('loginSection');
        const userInfoPanel = document.getElementById('userInfoPanel');
        const quizContainer = document.getElementById('quizContainer');
        const resultsContainer = document.getElementById('resultsContainer');
        const questionContainer = document.getElementById('questionContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitQuiz = document.getElementById('submitQuiz');
        const progressBar = document.getElementById('progressBar');
        const scoreElement = document.getElementById('score');
        const analysisElement = document.getElementById('analysis');
        const feedbackBtn = document.getElementById('feedbackBtn');
        const timerElement = document.getElementById('timer');
        const reviewButtons = document.getElementById('reviewButtons');
        const modeToggle = document.getElementById('modeToggle');
        const instructionToggle = document.getElementById('instructionToggle');
        const languageToggle = document.getElementById('languageToggle');
        const modeIcon = modeToggle.querySelector('i');
        const loginForm = document.getElementById('login-form');
        const feedbackModal = document.getElementById('feedbackModal');
        const instructionModal = document.getElementById('instructionModal');
        const feedbackForm = document.getElementById('feedback-form');
        const closeFeedbackModal = document.getElementById('closeFeedbackModal');
        const closeInstructionModal = document.getElementById('closeInstructionModal');
        const feedbackResult = document.getElementById('feedback-result');
        const displayStudentName = document.getElementById('display-student-name');
        const displayMobile = document.getElementById('display-mobile');
        const displayClass = document.getElementById('display-class');
        const feedbackName = document.getElementById('feedback-name');
        const feedbackMobile = document.getElementById('feedback-mobile');
        const welcomeAnimation = document.getElementById('welcomeAnimation');
        const welcomeName = document.getElementById('welcomeName');
        const savingOverlay = document.getElementById('savingOverlay');
        const savingStatus = document.getElementById('savingStatus');
        const feedbackSaving = document.getElementById('feedbackSaving');
        const feedbackSubmitBtn = document.getElementById('feedbackSubmitBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const confirmationModal = document.getElementById('confirmationModal');
        const confirmLogout = document.getElementById('confirmLogout');
        const cancelLogout = document.getElementById('cancelLogout');
        const particlesContainer = document.getElementById('particles');
        const emailStatus = document.getElementById('emailStatus');
        
        // Text elements for language switching
        const quizTitle = document.getElementById('quizTitle');
        const timeRemainingText = document.getElementById('timeRemainingText');
        const questionReviewText = document.getElementById('questionReviewText');
        const answeredText = document.getElementById('answeredText');
        const skippedText = document.getElementById('skippedText');
        const unansweredText = document.getElementById('unansweredText');
        const currentText = document.getElementById('currentText');
        const prevText = document.getElementById('prevText');
        const nextText = document.getElementById('nextText');
        const submitText = document.getElementById('submitText');
        const resultsText = document.getElementById('resultsText');
        const feedbackText = document.getElementById('feedbackText');
        const instructionTitle = document.getElementById('instructionTitle');
        const importantWarning = document.getElementById('importantWarning');
        const warningText = document.getElementById('warningText');
        const testInstructions = document.getElementById('testInstructions');
        const instructionsList = document.getElementById('instructionsList');
        const instructionNote = document.getElementById('instructionNote');
        const feedbackTitle = document.getElementById('feedbackTitle');
        const feedbackNameLabel = document.getElementById('feedbackNameLabel');
        const feedbackMobileLabel = document.getElementById('feedbackMobileLabel');
        const feedbackMessageLabel = document.getElementById('feedbackMessageLabel');
        const savingFeedbackText = document.getElementById('savingFeedbackText');
        const submitFeedbackText = document.getElementById('submitFeedbackText');
        const feedbackSuccessTitle = document.getElementById('feedbackSuccessTitle');
        const feedbackSuccessText = document.getElementById('feedbackSuccessText');
        
        // Google Apps Script URLs
        const DETAILED_RESULTS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxmpERtN6ysa5fs1kIo_TQurhZDZ1fFuu63BXguQttedwEljbSD5VYlHWhFVnKO3yA3/exec';
        const SUMMARY_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw0usgihFq9Fi-D5uOxGAJquocnYMxYc2gLTHpbEslbgkfk-x_WTsZXboaxNbgj6Hpz3w/exec';
        const FEEDBACK_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycby5boErHEOCyvbUtzmnP10G7gcDzDZVVHLbK9jvQ4DHYySR7gsM-EmRCmTk0gonID1O/exec';
        const EMAIL_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwJfKqYbD7hQaVlF1tqL9Vxwq8m8a7yUwvQjK3hZg6sYv8Kv3Y2w/exec';
        
        // Quiz state variables
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let quizData = [];
        let timerInterval = null;
        let timeLeft = 0;
        let visitedQuestions = [];
        let currentUser = null;
        let currentLanguage = 'en'; // Default language is English
        
        // Language content
        const languageContent = {
            en: {
                quizTitle: "General Knowledge Quiz",
                timeRemaining: "Time Remaining:",
                questionReview: "Question Review",
                answered: "Answered",
                skipped: "Skipped",
                unanswered: "Unanswered",
                current: "Current",
                prev: "Previous",
                next: "Next",
                submit: "Submit Quiz",
                results: "Quiz Results",
                feedback: "Feedback",
                instructionTitle: "Quiz Instructions",
                importantWarning: "Important Warning:",
                warningText: "Any kind of copying will result in disqualification of your test.",
                testInstructions: "Test Instructions:",
                instructionsList: [
                    "This quiz has a total of 2 questions",
                    "You have 30 seconds to complete the test",
                    "Each question has four options, choose the correct answer",
                    "Navigate between questions using Previous and Next buttons",
                    "Go directly to any question using the Question Review panel",
                    "Once you select an answer, it will be automatically saved",
                    "You can change your answer at any time",
                    "Click the Submit Quiz button after completing the test"
                ],
                instructionNote: "Read all instructions carefully and take the test honestly.",
                feedbackTitle: "Feedback",
                feedbackNameLabel: "Student Name",
                feedbackMobileLabel: "Mobile Number",
                feedbackMessageLabel: "Message for Updates",
                savingFeedback: "Saving your feedback...",
                submitFeedback: "Submit Feedback",
                feedbackSuccessTitle: "Feedback Submitted Successfully!",
                feedbackSuccessText: "Thank you for your valuable feedback."
            },
            hi: {
                quizTitle: "सामान्य ज्ञान प्रश्नोत्तरी",
                timeRemaining: "शेष समय:",
                questionReview: "प्रश्न समीक्षा",
                answered: "उत्तर दिया",
                skipped: "छोड़ा गया",
                unanswered: "अनुत्तरित",
                current: "वर्तमान",
                prev: "पिछला",
                next: "अगला",
                submit: "प्रश्नोत्तरी जमा करें",
                results: "प्रश्नोत्तरी परिणाम",
                feedback: "प्रतिक्रिया",
                instructionTitle: "प्रश्नोत्तरी निर्देश",
                importantWarning: "महत्वपूर्ण चेतावनी:",
                warningText: "किसी भी प्रकार की नकल करने पर आपका टेस्ट अयोग्य घोषित कर दिया जाएगा।",
                testInstructions: "टेस्ट निर्देश:",
                instructionsList: [
                    "इस क्विज में कुल 2 प्रश्न हैं",
                    "आपके पास पूरा टेस्ट देने के लिए 30 सेकंड का समय है",
                    "प्रत्येक प्रश्न के चार विकल्प हैं, सही उत्तर चुनें",
                    "Previous और Next बटन का उपयोग करके प्रश्नों के बीच नेविगेट कर सकते हैं",
                    "Question Review पैनल से किसी भी प्रश्न पर सीधे जा सकते हैं",
                    "एक बार उत्तर चुनने के बाद वह स्वचालित रूप से सेव हो जाएगा",
                    "किसी भी समय अपना उत्तर बदल सकते हैं",
                    "टेस्ट पूरा करने के बाद Submit Quiz बटन पर क्लिक करें"
                ],
                instructionNote: "सभी निर्देशों को ध्यान से पढ़ें और ईमानदारी से टेस्ट दें।",
                feedbackTitle: "प्रतिक्रिया",
                feedbackNameLabel: "छात्र का नाम",
                feedbackMobileLabel: "मोबाइल नंबर",
                feedbackMessageLabel: "अपडेट के लिए संदेश",
                savingFeedback: "आपकी प्रतिक्रिया सहेजी जा रही है...",
                submitFeedback: "प्रतिक्रिया जमा करें",
                feedbackSuccessTitle: "प्रतिक्रिया सफलतापूर्वक जमा!",
                feedbackSuccessText: "आपकी मूल्यवान प्रतिक्रिया के लिए धन्यवाद।"
            }
        };
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Set up event listeners
            loginForm.addEventListener('submit', handleLogin);
            prevBtn.addEventListener('click', showPreviousQuestion);
            nextBtn.addEventListener('click', showNextQuestion);
            submitQuiz.addEventListener('click', showResults);
            feedbackBtn.addEventListener('click', showFeedbackModal);
            modeToggle.addEventListener('click', toggleDarkMode);
            instructionToggle.addEventListener('click', showInstructionModal);
            languageToggle.addEventListener('click', toggleLanguage);
            feedbackForm.addEventListener('submit', handleFeedback);
            closeFeedbackModal.addEventListener('click', closeFeedbackModalFunc);
            closeInstructionModal.addEventListener('click', closeInstructionModalFunc);
            logoutBtn.addEventListener('click', showLogoutConfirmation);
            confirmLogout.addEventListener('click', performLogout);
            cancelLogout.addEventListener('click', hideLogoutConfirmation);
            
            // Close modals when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === feedbackModal) {
                    closeFeedbackModalFunc();
                }
                if (e.target === instructionModal) {
                    closeInstructionModalFunc();
                }
                if (e.target === confirmationModal) {
                    hideLogoutConfirmation();
                }
            });
            
            // Initialize dark mode
            if (localStorage.getItem('darkMode') === 'enabled') {
                document.body.classList.add('dark-mode');
                modeIcon.classList.remove('fa-moon');
                modeIcon.classList.add('fa-sun');
            }
            
            // Initialize language
            if (localStorage.getItem('language')) {
                currentLanguage = localStorage.getItem('language');
                updateLanguage();
            }
            
            // Create floating particles
            createParticles();
            
            // Check if user is already logged in
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showQuizInterface();
            }
        });
        
        // Create floating particles for background
        function createParticles() {
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random size and position
                const size = Math.random() * 10 + 5;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}vw`;
                particle.style.top = `${Math.random() * 100}vh`;
                
                // Random animation duration and delay
                particle.style.animationDuration = `${Math.random() * 20 + 10}s`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                
                particlesContainer.appendChild(particle);
            }
        }
        
        // Toggle language between English and Hindi
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'hi' : 'en';
            localStorage.setItem('language', currentLanguage);
            updateLanguage();
            
            // If quiz is active, refresh the current question
            if (quizContainer.style.display === 'block') {
                displayQuestion();
            }
        }
        
        // Update all text elements based on current language
        function updateLanguage() {
            const content = languageContent[currentLanguage];
            
            quizTitle.textContent = content.quizTitle;
            timeRemainingText.textContent = content.timeRemaining;
            questionReviewText.textContent = content.questionReview;
            answeredText.textContent = content.answered;
            skippedText.textContent = content.skipped;
            unansweredText.textContent = content.unanswered;
            currentText.textContent = content.current;
            prevText.textContent = content.prev;
            nextText.textContent = content.next;
            submitText.textContent = content.submit;
            resultsText.textContent = content.results;
            feedbackText.textContent = content.feedback;
            instructionTitle.textContent = content.instructionTitle;
            importantWarning.textContent = content.importantWarning;
            warningText.textContent = content.warningText;
            testInstructions.textContent = content.testInstructions;
            
            // Update instructions list
            instructionsList.innerHTML = '';
            content.instructionsList.forEach(instruction => {
                const li = document.createElement('li');
                li.textContent = instruction;
                instructionsList.appendChild(li);
            });
            
            instructionNote.textContent = content.instructionNote;
            feedbackTitle.textContent = content.feedbackTitle;
            feedbackNameLabel.textContent = content.feedbackNameLabel;
            feedbackMobileLabel.textContent = content.feedbackMobileLabel;
            feedbackMessageLabel.textContent = content.feedbackMessageLabel;
            savingFeedbackText.textContent = content.savingFeedback;
            submitFeedbackText.textContent = content.submitFeedback;
            feedbackSuccessTitle.textContent = content.feedbackSuccessTitle;
            feedbackSuccessText.textContent = content.feedbackSuccessText;
        }
        
        // Show logout confirmation modal
        function showLogoutConfirmation() {
            confirmationModal.style.display = 'flex';
        }
        
        // Hide logout confirmation modal
        function hideLogoutConfirmation() {
            confirmationModal.style.display = 'none';
        }
        
        // Perform logout
        function performLogout() {
            hideLogoutConfirmation();
            
            currentUser = null;
            localStorage.removeItem('currentUser');
            
            userInfoPanel.style.display = 'none';
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'none';
            loginSection.style.display = 'flex';
            welcomeAnimation.style.display = 'none';
            
            loginForm.reset();
            
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
        }
        
        // Show instruction modal
        function showInstructionModal() {
            instructionModal.style.display = 'flex';
        }
        
        // Close instruction modal
        function closeInstructionModalFunc() {
            instructionModal.style.display = 'none';
        }
        
        // Show feedback modal
        function showFeedbackModal() {
            if (currentUser) {
                feedbackName.value = currentUser.name;
                feedbackMobile.value = currentUser.mobile || "Not available";
            }
            feedbackModal.style.display = 'flex';
            feedbackResult.style.display = 'none';
            feedbackSaving.style.display = 'none';
            feedbackForm.reset();
        }
        
        // Close feedback modal
        function closeFeedbackModalFunc() {
            feedbackModal.style.display = 'none';
        }
        
        // Validate mobile number
        function isValidMobile(mobile) {
            return /^\d{10}$/.test(mobile);
        }
        
        // Validate email
        function isValidEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }
        
        // Handle login form submission
        function handleLogin(e) {
            e.preventDefault();
            
            const name = document.getElementById('login-name').value;
            const mobile = document.getElementById('login-mobile').value;
            const fatherName = document.getElementById('login-father').value;
            const email = document.getElementById('login-email').value;
            const studentClass = document.getElementById('login-class').value;
            const subject = document.getElementById('login-subject').value;
            
            if (!isValidMobile(mobile)) {
                alert('Please enter a valid 10-digit mobile number');
                return;
            }
            
            if (!isValidEmail(email)) {
                alert('Please enter a valid email address');
                return;
            }
            
            currentUser = {
                name: name,
                mobile: mobile,
                fatherName: fatherName,
                email: email,
                class: studentClass,
                subject: subject
            };
            
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            showQuizInterface();
        }
        
        // Show quiz interface after login
        function showQuizInterface() {
            loginSection.style.display = 'none';
            userInfoPanel.style.display = 'flex';
            quizContainer.style.display = 'block';
            
            displayStudentName.textContent = currentUser.name;
            displayMobile.textContent = currentUser.mobile;
            displayClass.textContent = `${currentUser.class} - ${currentUser.subject}`;
            welcomeName.textContent = currentUser.name;
            
            welcomeAnimation.style.display = 'block';
            
            setTimeout(() => {
                welcomeAnimation.style.display = 'none';
            }, 3000);
            
            generateQuiz();
        }
        
        // Toggle dark mode
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            
            if (document.body.classList.contains('dark-mode')) {
                localStorage.setItem('darkMode', 'enabled');
                modeIcon.classList.remove('fa-moon');
                modeIcon.classList.add('fa-sun');
            } else {
                localStorage.setItem('darkMode', 'disabled');
                modeIcon.classList.remove('fa-sun');
                modeIcon.classList.add('fa-moon');
            }
        }
        
        // Generate quiz questions
        function generateQuiz() {
            quizData = twoQuestions;
            userAnswers = new Array(quizData.length).fill(null);
            visitedQuestions = new Array(quizData.length).fill(false);
            
            currentQuestionIndex = 0;
            visitedQuestions[0] = true;
            
            createReviewButtons();
            updateReviewPanel();
            
            startTimer(30); // 30 seconds for 2 questions
            
            updateProgressBar();
            displayQuestion();
        }
        
        // Create review buttons for each question
        function createReviewButtons() {
            reviewButtons.innerHTML = '';
            for (let i = 0; i < quizData.length; i++) {
                const button = document.createElement('div');
                button.className = 'review-btn';
                button.textContent = i + 1;
                button.setAttribute('data-index', i);
                
                button.addEventListener('click', () => {
                    currentQuestionIndex = i;
                    visitedQuestions[i] = true;
                    updateProgressBar();
                    updateReviewPanel();
                    displayQuestion();
                });
                
                reviewButtons.appendChild(button);
            }
        }
        
        // Update review panel status
        function updateReviewPanel() {
            const buttons = reviewButtons.querySelectorAll('.review-btn');
            buttons.forEach((button, index) => {
                const i = parseInt(button.getAttribute('data-index'));
                
                button.classList.remove('answered', 'skipped', 'unanswered', 'current');
                
                if (i === currentQuestionIndex) {
                    button.classList.add('current');
                } else if (userAnswers[i] !== null) {
                    button.classList.add('answered');
                } else if (visitedQuestions[i]) {
                    button.classList.add('skipped');
                } else {
                    button.classList.add('unanswered');
                }
            });
        }
        
        // Start quiz timer
        function startTimer(seconds) {
            timeLeft = seconds;
            updateTimerDisplay();
            
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    alert('Time is up! Submitting your quiz now.');
                    showResults();
                } else if (timeLeft <= 10) {
                    timerElement.classList.add('warning');
                }
            }, 1000);
        }
        
        // Update timer display
        function updateTimerDisplay() {
            timerElement.textContent = timeLeft;
        }
        
        // Display current question
        function displayQuestion() {
            const question = quizData[currentQuestionIndex];
            const questionText = currentLanguage === 'en' ? question.question : question.questionHindi;
            const options = currentLanguage === 'en' ? question.options : question.optionsHindi;
            
            questionContainer.innerHTML = `
                <div class="question">
                    <h3>${currentLanguage === 'en' ? 'Question' : 'प्रश्न'} ${currentQuestionIndex + 1}</h3>
                    <p>${questionText}</p>
                    ${question.image ? `<img src="${question.image}" alt="Question Image" class="question-image">` : ''}
                    <div class="options">
                        ${options.map((option, index) => `
                            <div class="option ${userAnswers[currentQuestionIndex] === String.fromCharCode(65 + index) ? 'selected' : ''}" 
                                 data-option="${String.fromCharCode(65 + index)}">
                                ${String.fromCharCode(65 + index)}. ${option}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', selectOption);
            });
            
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = false;
            submitQuiz.style.display = currentQuestionIndex === quizData.length - 1 ? 'block' : 'none';
            
            updateReviewPanel();
        }
        
        // Handle option selection
        function selectOption(e) {
            const selectedOption = e.target.getAttribute('data-option');
            userAnswers[currentQuestionIndex] = selectedOption;
            
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            e.target.classList.add('selected');
            
            updateReviewPanel();
            
            if (currentQuestionIndex < quizData.length - 1) {
                setTimeout(showNextQuestion, 500);
            }
        }
        
        // Show next question
        function showNextQuestion() {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                visitedQuestions[currentQuestionIndex] = true;
                updateProgressBar();
                updateReviewPanel();
                displayQuestion();
            }
        }
        
        // Show previous question
        function showPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                visitedQuestions[currentQuestionIndex] = true;
                updateProgressBar();
                updateReviewPanel();
                displayQuestion();
            }
        }
        
        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
        }
        
        // Show quiz results
        async function showResults() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            
            let correctCount = 0;
            quizData.forEach((question, index) => {
                if (userAnswers[index] === question.answer) {
                    correctCount++;
                }
            });
            
            const score = (correctCount / quizData.length) * 100;
            
            scoreElement.textContent = `Score: ${score.toFixed(1)}% (${correctCount}/${quizData.length})`;
            
            let analysisHTML = `
                <h3>${currentLanguage === 'en' ? 'Quiz Details:' : 'प्रश्नोत्तरी विवरण:'}</h3>
                <p><span class="badge">${currentLanguage === 'en' ? 'Quiz Type' : 'प्रश्नोत्तरी प्रकार'}</span> ${currentLanguage === 'en' ? 'General Knowledge' : 'सामान्य ज्ञान'}</p>
                <p><span class="badge">${currentLanguage === 'en' ? 'Total Questions' : 'कुल प्रश्न'}</span> ${quizData.length}</p>
                
                <h3 style="margin-top: 15px;">${currentLanguage === 'en' ? 'Question Analysis:' : 'प्रश्न विश्लेषण:'}</h3>
            `;
            
            quizData.forEach((question, index) => {
                const isCorrect = userAnswers[index] === question.answer;
                const userAnswerLetter = userAnswers[index] || (currentLanguage === 'en' ? 'Not answered' : 'उत्तर नहीं दिया');
                const correctAnswerLetter = question.answer;
                const correctAnswerIndex = correctAnswerLetter.charCodeAt(0) - 65;
                const correctAnswerText = currentLanguage === 'en' ? question.options[correctAnswerIndex] : question.optionsHindi[correctAnswerIndex];
                
                const explanation = currentLanguage === 'en' ? question.explanation : question.explanationHindi;
                
                analysisHTML += `
                    <div class="question-analysis">
                        <p><strong>${currentLanguage === 'en' ? 'Question' : 'प्रश्न'} ${index + 1}:</strong> ${currentLanguage === 'en' ? question.question : question.questionHindi}</p>
                        <p class="${isCorrect ? 'correct' : 'incorrect'}">
                            ${currentLanguage === 'en' ? 'Your answer:' : 'आपका उत्तर:'} ${userAnswerLetter} 
                            ${isCorrect ? (currentLanguage === 'en' ? '✓ Correct' : '✓ सही') : (currentLanguage === 'en' ? '✗ Incorrect' : '✗ गलत')}
                        </p>
                        <div class="correct-answer">
                            <strong>${currentLanguage === 'en' ? 'Correct Answer:' : 'सही उत्तर:'}</strong> ${correctAnswerLetter}. ${correctAnswerText}
                            <br><strong>${currentLanguage === 'en' ? 'Explanation:' : 'स्पष्टीकरण:'}</strong> ${explanation}
                        </div>
                    </div>
                `;
            });
            
            analysisElement.innerHTML = analysisHTML;
            
            // Show saving overlay
            savingOverlay.style.display = 'flex';
            savingStatus.textContent = currentLanguage === 'en' ? 'Saving detailed results...' : 'विस्तृत परिणाम सहेजे जा रहे हैं...';
            
            // Save detailed results to Google Docs (original)
            await saveResultsToGoogleDocs(correctCount);
            
            savingStatus.textContent = currentLanguage === 'en' ? 'Saving summary data...' : 'सारांश डेटा सहेजा जा रहा है...';
            
            // Save summary to another Google Docs
            await saveSummaryToGoogleDocs(correctCount, score);
            
            savingStatus.textContent = currentLanguage === 'en' ? 'Sending email with results...' : 'परिणाम के साथ ईमेल भेजा जा रहा है...';
            
            // Send email with results
            const emailSent = await sendEmailWithResults(correctCount, score);
            
            savingStatus.textContent = currentLanguage === 'en' ? 'All data saved successfully!' : 'सभी डेटा सफलतापूर्वक सहेजा गया!';
            
            // Wait a moment to show the success message
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            // Hide saving overlay
            savingOverlay.style.display = 'none';
            
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'block';
            
            // Show email status
            if (emailSent) {
                emailStatus.textContent = `${currentLanguage === 'en' ? '✓ Results have been sent to' : '✓ परिणाम भेज दिए गए हैं'} ${currentUser.email}`;
                emailStatus.className = 'email-status email-success';
            } else {
                emailStatus.textContent = `${currentLanguage === 'en' ? '✗ Failed to send results to' : '✗ परिणाम भेजने में विफल'} ${currentUser.email}. ${currentLanguage === 'en' ? 'Please check your email address.' : 'कृपया अपना ईमेल पता जांचें।'}`;
                emailStatus.className = 'email-status email-error';
            }
            emailStatus.style.display = 'block';
        }
        
        // Save results to Google Docs
        async function saveResultsToGoogleDocs(correctCount) {
            if (!currentUser) return;
            
            try {
                savingStatus.textContent = currentLanguage === 'en' ? 'Creating detailed document...' : 'विस्तृत दस्तावेज़ बनाया जा रहा है...';
                
                const timestamp = new Date().toLocaleString();
                const studentName = currentUser.name;
                const mobile = currentUser.mobile;
                const fatherName = currentUser.fatherName;
                const email = currentUser.email || "Not provided";
                const studentClass = currentUser.class || "Not provided";
                const subject = currentUser.subject || "Not provided";
                
                // Prepare data for Google Docs
                const data = {
                    timestamp: timestamp,
                    studentName: studentName,
                    mobile: mobile,
                    fatherName: fatherName,
                    email: email,
                    class: studentClass,
                    subject: subject,
                    correctAnswers: correctCount,
                    totalQuestions: quizData.length,
                    score: ((correctCount / quizData.length) * 100).toFixed(1) + '%',
                    questions: quizData.map((q, i) => ({
                        question: q.question,
                        options: q.options,
                        userAnswer: userAnswers[i] || 'Not answered',
                        correctAnswer: q.answer
                    }))
                };
                
                savingStatus.textContent = currentLanguage === 'en' ? 'Sending detailed data...' : 'विस्तृत डेटा भेजा जा रहा है...';
                
                // Send data to Google Apps Script
                const response = await fetch(DETAILED_RESULTS_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                console.log('Detailed results saved to Google Docs');
            } catch (error) {
                console.error('Error saving detailed results to Google Docs:', error);
                savingStatus.textContent = currentLanguage === 'en' ? 'Error: Could not save detailed results. Saving locally...' : 'त्रुटि: विस्तृत परिणाम सहेजे नहीं जा सके। स्थानीय रूप से सहेजा जा रहा है...';
                
                // Fallback: Save to localStorage
                saveResultsToLocalStorage(correctCount);
            }
        }
        
        // Save summary to Google Docs
        async function saveSummaryToGoogleDocs(correctCount, score) {
            if (!currentUser) return;
            
            try {
                savingStatus.textContent = currentLanguage === 'en' ? 'Creating summary document...' : 'सारांश दस्तावेज़ बनाया जा रहा है...';
                
                const timestamp = new Date().toLocaleString();
                const studentName = currentUser.name;
                const mobile = currentUser.mobile;
                const subject = currentUser.subject || "Not provided";
                
                // Prepare summary data
                const summaryData = {
                    action: 'saveSummary',
                    timestamp: timestamp,
                    studentName: studentName,
                    mobile: mobile,
                    subject: subject,
                    score: score.toFixed(1) + '%',
                    correctAnswers: correctCount,
                    totalQuestions: quizData.length,
                    percentage: score.toFixed(1)
                };
                
                savingStatus.textContent = currentLanguage === 'en' ? 'Sending summary data...' : 'सारांश डेटा भेजा जा रहा है...';
                
                // Send summary data to Google Apps Script
                const response = await fetch(SUMMARY_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(summaryData)
                });
                
                console.log('Summary saved to Google Docs');
            } catch (error) {
                console.error('Error saving summary to Google Docs:', error);
                savingStatus.textContent = currentLanguage === 'en' ? 'Error: Could not save summary. Saving locally...' : 'त्रुटि: सारांश सहेजा नहीं जा सका। स्थानीय रूप से सहेजा जा रहा है...';
                
                // Fallback: Save summary to localStorage
                saveSummaryToLocalStorage(correctCount, score);
            }
        }
        
        // Send email with results
        async function sendEmailWithResults(correctCount, score) {
            if (!currentUser || !currentUser.email) {
                console.log('No email provided, skipping email sending.');
                return false;
            }
            
            try {
                const timestamp = new Date().toLocaleString();
                const studentName = currentUser.name;
                const email = currentUser.email;
                const studentClass = currentUser.class || "Not provided";
                const subject = currentUser.subject || "Not provided";
                
                // Prepare email data
                const emailData = {
                    action: 'sendEmail',
                    studentName: studentName,
                    email: email,
                    class: studentClass,
                    subject: subject,
                    score: score.toFixed(1) + '%',
                    correctAnswers: correctCount,
                    totalQuestions: quizData.length,
                    percentage: score.toFixed(1),
                    timestamp: timestamp
                };
                
                savingStatus.textContent = currentLanguage === 'en' ? 'Sending email with results...' : 'परिणाम के साथ ईमेल भेजा जा रहा है...';
                
                // Send email data to Google Apps Script
                const response = await fetch(EMAIL_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(emailData)
                });
                
                console.log('Email sent successfully');
                return true;
            } catch (error) {
                console.error('Error sending email:', error);
                return false;
            }
        }
        
        // Save feedback to Google Docs
        async function saveFeedbackToGoogleDocs(feedbackData) {
            try {
                const response = await fetch(FEEDBACK_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(feedbackData)
                });
                
                console.log('Feedback saved to Google Docs');
                return true;
            } catch (error) {
                console.error('Error saving feedback to Google Docs:', error);
                return false;
            }
        }
        
        // Save results to localStorage as fallback
        function saveResultsToLocalStorage(correctCount) {
            if (!currentUser) return;
            
            const timestamp = new Date().toLocaleString();
            const studentName = currentUser.name;
            const mobile = currentUser.mobile;
            const fatherName = currentUser.fatherName;
            const email = currentUser.email || "Not provided";
            const studentClass = currentUser.class || "Not provided";
            const subject = currentUser.subject || "Not provided";
            
            const resultData = {
                timestamp: timestamp,
                studentName: studentName,
                mobile: mobile,
                fatherName: fatherName,
                email: email,
                class: studentClass,
                subject: subject,
                correctAnswers: correctCount,
                totalQuestions: quizData.length,
                score: ((correctCount / quizData.length) * 100).toFixed(1) + '%',
                questions: quizData.map((q, i) => ({
                    question: q.question,
                    options: q.options,
                    userAnswer: userAnswers[i] || 'Not answered',
                    correctAnswer: q.answer
                }))
            };
            
            // Save to localStorage as fallback
            let savedResults = JSON.parse(localStorage.getItem('quizResults')) || [];
            savedResults.push(resultData);
            localStorage.setItem('quizResults', JSON.stringify(savedResults));
            
            console.log('Detailed results saved to localStorage as fallback');
        }
        
        // Save summary to localStorage as fallback
        function saveSummaryToLocalStorage(correctCount, score) {
            if (!currentUser) return;
            
            const timestamp = new Date().toLocaleString();
            const studentName = currentUser.name;
            const mobile = currentUser.mobile;
            const subject = currentUser.subject || "Not provided";
            
            const summaryData = {
                timestamp: timestamp,
                studentName: studentName,
                mobile: mobile,
                subject: subject,
                score: score.toFixed(1) + '%',
                correctAnswers: correctCount,
                totalQuestions: quizData.length,
                percentage: score.toFixed(1)
            };
            
            // Save summary to localStorage as fallback
            let savedSummaries = JSON.parse(localStorage.getItem('quizSummaries')) || [];
            savedSummaries.push(summaryData);
            localStorage.setItem('quizSummaries', JSON.stringify(savedSummaries));
            
            console.log('Summary saved to localStorage as fallback');
        }
        
        // Handle feedback form submission
        async function handleFeedback(e) {
            e.preventDefault();
            
            const message = document.getElementById('feedback-message').value;
            
            if (!message) {
                alert(currentLanguage === 'en' ? 'Please enter your feedback message' : 'कृपया अपनी प्रतिक्रिया संदेश दर्ज करें');
                return;
            }
            
            // Show loading state
            feedbackSaving.style.display = 'block';
            feedbackSubmitBtn.disabled = true;
            
            const feedbackData = {
                name: currentUser.name,
                mobile: currentUser.mobile || "Not available",
                fatherName: currentUser.fatherName || "Not provided",
                email: currentUser.email || "Not provided",
                message: message,
                timestamp: new Date().toLocaleString()
            };
            
            // Save to Google Docs
            const googleDocsSuccess = await saveFeedbackToGoogleDocs(feedbackData);
            
            // Always save to localStorage as fallback
            let feedbacks = JSON.parse(localStorage.getItem('feedbacks')) || [];
            feedbacks.push(feedbackData);
            localStorage.setItem('feedbacks', JSON.stringify(feedbacks));
            
            // Hide loading state
            feedbackSaving.style.display = 'none';
            feedbackSubmitBtn.disabled = false;
            
            // Show success message
            feedbackResult.style.display = 'block';
            
            feedbackForm.reset();
            
            setTimeout(() => {
                feedbackModal.style.display = 'none';
            }, 2000);
        }
        
        // Quiz questions data
        const twoQuestions = [
            {
                question: "The children in this picture all have a question mark ( ? ) above their heads. What is the best word to describe how they are feeling?",
                questionHindi: "इस चित्र में सभी बच्चों के सिर पर एक प्रश्न चिह्न (?) है। वे कैसा महसूस कर रहे हैं, इसे बताने के लिए सबसे अच्छा शब्द क्या है?",
                options: ["Happy (😊)", "Sleeping (😴)", "Confused (🤔)", "Running (🏃)"],
                optionsHindi: ["खुश (😊)", "सो रहे (😴)", "उलझन में (🤔)", "दौड़ रहे (🏃)"],
                answer: "C",
                explanation: "Confused (They are thinking and wondering.)",
                explanationHindi: "उलझन में (वे सोच और विचार कर रहे हैं।)",
                image: "https://i.ibb.co/2Rr729L/children-think-wonder-ask-questions-600nw-2447877249.jpg"
            },
            {
                question: "Look at the picture. Two boys each have one big bouncy ball. How many balls do they have together?",
                questionHindi: "चित्र देखें। दो लड़कों में से हर एक के पास एक बड़ी बाउंसी बॉल है। उनके पास कुल कितनी बॉल हैं?",
                options: ["2", "3", "1", "4"],
                optionsHindi: ["2", "3", "1", "4"],
                answer: "A",
                explanation: "2 (Because 1 + 1 = 2)",
                explanationHindi: "2 (क्योंकि 1 + 1 = 2)",
                image: "https://i.ibb.co/jP27N5B3/two-boys-on-ball-number-260nw-545884585.jpg"
            }
        ];
    </script>
</body>
</html>